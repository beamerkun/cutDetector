// Copyright (c) 2014-2016 Jakub 'beamerkun' Sokół
// Licensed under MIT License
// Full text avaliable in LICENSE file located in project root
// http://github.com/beamerkun/cutDetector/blob/master/LICENSE
box:
    id: beamerkun/cutdetector
    username: $USERNAME
    password: $PASSWORD
    tag: 1.1

build:
    steps:
        - script:
            name: 'init submodules'
            code: |
                git submodule update --init --recursive
        - script:
            name: 'cmake'
            code: |
                cd $WERCKER_OUTPUT_DIR
                cmake $WERCKER_SOURCE_DIR
                make
        - script:
            name: 'run unit tests'
            code: |
                cd $WERCKER_OUTPUT_DIR/out
                ./runUnitTests
